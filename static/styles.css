:root{
  --bg: #f7f7f8;
  --panel: #ffffff;
  --border: #e5e7eb;
  --text: #111827;
  --muted: #6b7280;
  --accent: #10a37f; /* 포커스 색감 */
}

*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0; font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", Arial;
  background: var(--bg); color: var(--text);
}

/* Top bar */
.topbar{
  position: sticky; top:0; z-index: 5;
  background: var(--panel); border-bottom:1px solid var(--border);
}
.topbar__center{
  height: 52px; display:flex; align-items:center; justify-content:center;
}
.model-badge{
  display:flex; align-items:center; gap:8px;
  font-weight: 600; color:#0b0f1a; background:#eef2f7; padding:6px 10px; border-radius: 999px;
  border:1px solid #dde3ea;
}
.model-badge .dot{
  width:8px; height:8px; border-radius:50%; background: var(--accent);
  display:inline-block;
}

/* Layout shell */
.shell{
  display:flex; justify-content:center;
  padding: 24px 12px 140px; /* bottom space for composer */
}
.chat{
  width: 100%; max-width: 820px;
}

/* Messages */
.msg{ display:flex; gap:12px; margin: 16px 0; }
.msg--user{ justify-content: flex-end; }
.msg--user .bubble{ background:#e7f0ff; border:1px solid #cfe1ff; }
.msg--assistant .avatar{
  width:28px; height:28px; border-radius:50%; background:#eef2f7; display:flex; align-items:center; justify-content:center;
  flex: 0 0 28px;
}
.avatar{ user-select:none; }
.bubble{
  background: var(--panel); border:1px solid var(--border); border-radius: 14px; padding: 12px 14px; line-height:1.6;
  max-width: 680px; white-space: pre-wrap; word-break: break-word;
}
.bubble img{ max-width:100%; border-radius: 10px; display:block; }

/* Loading dots */
.dots{
  display:inline-block; min-width:1.5em;
}
.dots span{
  display:inline-block; width:4px; height:4px; margin:0 2px; background:#9aa3af; border-radius:50%;
  animation: blink 1.2s infinite;
}
.dots span:nth-child(2){ animation-delay: .2s; }
.dots span:nth-child(3){ animation-delay: .4s; }
@keyframes blink{
  0%, 80%, 100% { opacity: .2; transform: translateY(0); }
  40% { opacity: 1; transform: translateY(-2px); }
}

/* Composer */
.composer{
  position: fixed; left:0; right:0; bottom:0; background: linear-gradient(180deg, rgba(247,247,248,0) 0%, rgba(247,247,248,1) 25% 100%);
  border-top: 1px solid var(--border);
}
.composer__inner{
  max-width: 820px; margin: 0 auto; padding: 14px 12px 18px;
}

.chips{ display:flex; gap:8px; flex-wrap: wrap; margin-bottom: 8px; }
.chip{
  display:flex; align-items:center; gap:6px; padding:4px 8px; border:1px dashed #cbd5e1; background:#fff; border-radius:999px;
  font-size: 12px; color:#374151;
}
.chip img{ width:20px; height:20px; border-radius:4px; object-fit:cover; }
.chip button{
  border:0; background:transparent; color:#6b7280; cursor:pointer; padding:2px; line-height:0;
}

.input-wrap{
  display:flex; align-items:flex-end; gap:10px; background: var(--panel); border:1px solid var(--border); border-radius: 14px; padding: 10px;
}
.icon-btn{
  border:0; background:transparent; color:#475569; cursor:pointer; width:32px; height:32px; border-radius:8px;
  display:flex; align-items:center; justify-content:center;
}
.icon-btn:hover{ background:#f1f5f9; }
textarea{
  flex:1; resize:none; max-height: 180px; min-height: 24px;
  border:0; outline:0; font: inherit; line-height:1.5; padding: 6px 0;
